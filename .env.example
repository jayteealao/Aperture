# REQUIRED: Bearer token for authenticating gateway requests
APERTURE_API_TOKEN=your-secret-token-here

# IMPORTANT: API keys are NO LONGER passed automatically from gateway environment!
# Provider API keys (ANTHROPIC_API_KEY, OPENAI_API_KEY, GEMINI_API_KEY) in the gateway environment are IGNORED.
# Use per-session auth configuration instead (see README for examples)

# Server configuration
PORT=8080
HOST=0.0.0.0
LOG_LEVEL=info

# Session limits
MAX_CONCURRENT_SESSIONS=50
SESSION_IDLE_TIMEOUT_MS=600000
MAX_MESSAGE_SIZE_BYTES=262144

# Request timeout for JSON-RPC requests (milliseconds)
RPC_REQUEST_TIMEOUT_MS=300000

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# Path to Claude Code CLI executable (auto-detected if not set)
# CLAUDE_CODE_EXECUTABLE=/usr/local/bin/claude

# Auto-install Claude Code CLI if not found (default: false)
# Set to true to automatically install Claude CLI on startup if missing
# AUTO_INSTALL_CLAUDE_CLI=true

# Hosted mode (default: true)
# When enabled, enforces API key auth for Codex (ChatGPT login doesn't work remotely)
# When enabled, disables Gemini OAuth mode unless ALLOW_INTERACTIVE_AUTH=true
# Set to false for local development
HOSTED_MODE=true

# Allow interactive/OAuth auth modes in hosted mode (default: false)
# Only set to true if you understand the implications (e.g., for one-time OAuth bootstrap)
# When false in HOSTED_MODE, Gemini OAuth mode is disabled
# ALLOW_INTERACTIVE_AUTH=false

# Credential storage encryption key (optional, enables stored credentials)
# Must be at least 32 characters
# If not set, only inline API keys can be used
# CREDENTIALS_MASTER_KEY=your-32-char-or-longer-master-key-here

# Path to store encrypted credentials (default: /data/credentials.json.enc)
# CREDENTIALS_STORE_PATH=/data/credentials.json.enc

# Gemini CLI home directory for OAuth cache (default: /home/app/.gemini)
# This directory should be mounted as a volume in Docker for OAuth credentials persistence
# GEMINI_HOME_PATH=/home/app/.gemini
